\newcommand{\ActionSymbol}[1]{
  \tikz[baseline=0.25ex] \path[draw, fill]
    (0.0ex, 1.0ex) -- (0.3ex, 1.3ex) -- (0.6ex, 1.0ex) -- (0.3ex, 0.7ex)
    (0.5ex, 0.5ex) -- (1.0ex, 1.0ex) -- (0.5ex, 1.5ex) -- (1.0ex, 2.0ex) -- (2.0ex, 1.0ex) -- (1.0ex, 0.0ex)
    \ifnum #1 > 1
    (1.9ex, 0.5ex) -- (2.4ex, 1.0ex) -- (1.9ex, 1.5ex) -- (2.3ex, 1.9ex) -- (3.2ex, 1.0ex) -- (2.3ex, 0.1ex)
    \ifnum #1 > 2
    (3.1ex, 0.5ex) -- (3.6ex, 1.0ex) -- (3.1ex, 1.5ex) -- (3.4ex, 1.8ex) -- (4.2ex, 1.0ex) -- (3.4ex, 0.2ex)
    \fi
    \fi
    ;
}

\newcommand{\FormulaVariable}[2]{
  \operatorname{
    \tikz[baseline] \path
      node[draw, shape=rectangle, anchor=base] (box) { #2 }
      (box.south) node[below=-0.5ex] {\makebox[0pt][c]{\tiny \engschrift #1}};
    }
  }

\newcommand{\CheckFormula}[1]{
  \(\operatorname{1d20} + \FormulaVariable{}{\phantom{10}} \left(
    \foreach[count=\index] \name/\value in {#1} {
      \ifnum \index > 1 + \fi
      \FormulaVariable{\name}{\ifx \name \value \phantom{1}\else \value \fi}
    }
    \right)
  \)
}

\newcommand{\DamageType}[1]{
  \operatorname{\mbox{
    \ifcsname DamageType#1\endcsname
    \csname DamageType#1\endcsname
    \else
    #1
    \fi
  }}
}

\newcommand{\DamageTypeFire}{
  \tikz \path[fill,scale=-0.002em]
    svg {
      % from https://game-icons.net/1x1/carl-olsen/flame.html
      M245.05 15.514c34.29 48.815-23.535 320.54-90.302 136.72C106.796 325.11 38.956 332.518 38.876 252.55c-71.6 79.31 43.824 220.767 87.376 243.935h52.127c-45.92-40.016-76.784-78-82.176-135.968 47.312 9.423 71.855 20.96 81.263-62.048 60.736 86.59 100.944-49.376 137.184-107.12-1.647 40.32-3.343 93.456 22.848 129.888 8.736 12.143 33.232 16.11 54.736 15.807-9.92 16.08-44.848 69.376-17.008 89.2 27.84 19.824 33.072-.384 25.856 16.176-13.264 20.88-22.992 39.375-59.072 54.063h56.064c59.44-18.72 111.807-91.663 94.607-135.535-22.015 18.657-43.774 30.897-61.294 29.537 49.12-72.08 37.84-145.903 14.752-221.342-20.224 72.383-33.488 82.495-54.576 99.52 29.104-68.657-85.44-214.448-146.51-253.15z
    };
}
\newcommand{\DamageTypeCold}{
  \tikz \path[fill,scale=-0.002em]
    svg {
      % from https://game-icons.net/1x1/lorc/snowflake-2.html
      M308.375 15.094L242.937 36.53l-14.156 67.376 38.814 34.78c-12.68-1.094-25.17-.08-37.063 2.783l12.157 37.093c-6.177 1.23-12.12 3.2-17.75 5.843l-12.156-37.094c-11.5 4.83-22.173 11.465-31.56 19.657L191.937 116l-51.25-45.938L75.25 91.47l-14.156 67.374 51.25 45.937 49.594-16.218c-6.804 9.87-12.145 20.955-15.688 32.97l38.25 8.062c-.99 2.92-1.85 5.905-2.5 9-.652 3.102-1.105 6.2-1.375 9.28l-38.25-8.06c-1.646 12.762-1.132 25.392 1.28 37.467L104.5 242.157l-65.438 21.438-14.156 67.344 51.25 45.968 65.438-21.406 10.844-51.656c5.296 11.288 12.385 21.69 20.968 30.75L199.47 305.5c4.08 4.677 8.726 8.89 13.874 12.5l-26.03 29.063c9.615 7.326 20.49 13.246 32.374 17.343l-49.657 16.25-14.155 67.375 51.25 45.97 65.438-21.438 14.156-67.343-38.845-34.845c12.66 1.094 25.125.073 37-2.78L272.75 330.56c6.182-1.218 12.147-3.18 17.78-5.812l12.126 37.03c11.548-4.842 22.237-11.517 31.656-19.75l-10.75 51.064 51.282 45.937 65.406-21.405 14.156-67.375-51.25-45.938-49.72 16.282c6.843-9.905 12.23-21.002 15.783-33.063l-38.126-8.03c.99-2.92 1.85-5.938 2.5-9.03.65-3.1 1.074-6.175 1.344-9.25l38.125 8.03c1.64-12.78 1.107-25.415-1.313-37.5l39.28 35.188L476.44 245.5l14.187-67.344-51.28-45.97-65.408 21.408-10.875 51.687c-5.302-11.317-12.418-21.733-21.03-30.81l-26 29.03c-4.098-4.682-8.77-8.892-13.938-12.5l26.03-29.03c-9.6-7.307-20.46-13.188-32.312-17.282l49.657-16.25 14.155-67.375-51.25-45.97zm-64 189.375l49.906 13.374 13.376 49.906-36.53 36.53-49.907-13.374L207.843 241l36.53-36.53z
    };
}
\newcommand{\DamageTypeSlashing}{
  \tikz \path[fill,scale=-0.002em]
    svg {
      % from https://game-icons.net/1x1/lorc/blade-drag.html
      M214.02 19.115l-.02.06c38.033 14.387 73.867 34.09 106.393 58.446L368.02 158.4C292.254 72.063 181.72 20.678 64.66 20.604c-14.96-.01-30.027.834-45.14 2.535v18.8c108.174-12.774 213.91 21.292 293.527 88.554l42.314 97.416C290.887 132.486 182.425 73.885 66.395 73.21c-2.45-.013-4.9-.002-7.357.036-13.106.2-26.297 1.157-39.522 2.87v18.85c98.998-13.552 196.12 18.532 267.11 82.264l30.708 87.82C263.412 179.47 168.852 126.394 67.348 125.36c-15.818-.162-31.804.958-47.83 3.398v18.914c93.33-15.18 185.38 18.05 247.677 83.27l20.694 83.917C246.555 230.42 160.67 176.716 67.7 175.423c-1.256-.018-2.514-.025-3.774-.024-14.688.02-29.54 1.36-44.408 4.084v19.036c89.513-17.794 178.655 19.16 230.357 89.468l4.62 73.348c-28.973-83.013-107.888-136.692-193.257-135.87-13.8.132-27.768 1.693-41.72 4.78v19.188c77.22-18.904 155.333 13.983 197.095 77.14l5.873 57.49c23.33-6.283 47.534-13.218 68.727-20.873 19.194-6.93 35.884-14.525 46.596-22.038 5.354-3.756 9.142-7.478 11.174-10.574 2.033-3.096 2.47-5.184 2.098-7.59l-1.252-8.123 137.074-39.556C446.897 159.92 363.67 69.964 260.654 19.114H214.02zm278.86 273.922l-40.196 11.6c1.63 18.66-4.666 36.567-16.397 52.043-14.18 18.707-35.934 34.627-62.363 48.257-45.23 23.33-104.45 39.877-164.397 47.97l4.38 16.35c68.63-7.66 143.34-22.038 198.17-48.538 30.517-14.75 54.633-33.123 68.722-55.33 12.74-20.084 17.775-43.384 12.08-72.353zm-58.513 16.885l-65.027 18.765c-.736 4.345-2.345 8.51-4.733 12.147-3.925 5.98-9.462 10.986-16.068 15.62-13.213 9.266-30.996 17.098-50.978 24.316-31.927 11.53-68.41 20.998-99.558 29.134l6.644 24.79c59.027-7.79 117.64-24.153 160.71-46.366 24.828-12.805 44.388-27.573 56.037-42.94 8.804-11.614 13.283-23.135 12.972-35.466zm-261.754 77.43l-33.033 8.85 8.197 30.59c10.812 3.95 18.623 14.38 18.623 26.485 0 6.87-2.52 13.2-6.673 18.114l4.716 17.6 33.034-8.85-24.864-92.788zM138.22 443.79c-1.49 0-2.88.33-4.12.91l-75.6 20.255c2.926 4.706 4.625 10.24 4.625 16.14 0 .67-.03 1.33-.072 1.987l75.96-20.352c4.96-.386 8.698-4.37 8.698-9.453 0-5.35-4.138-9.488-9.49-9.488zM32.327 468.985c-6.798 0-12.11 5.312-12.11 12.11 0 6.798 5.312 12.11 12.11 12.11 6.798 0 12.111-5.312 12.111-12.11 0-6.798-5.313-12.11-12.11-12.11z
    };
}
\newcommand{\DamageTypeBludgeoning}{
  \tikz \path[fill,scale=-0.002em]
    svg {
      % from https://game-icons.net/1x1/delapouite/thor-hammer.html
      M266.033 32.42l-85.238 85.238v19.799L285.832 32.42h-19.799zm41.528 3.728L184.523 159.186l168.291 168.29L475.852 204.44 307.56 36.15zm172.02 190.02L374.542 331.205h19.799l85.238-85.238v-19.799zm-239.903 13.627l-9.9 9.9 32.527 32.528 9.9-9.9-32.527-32.528zm-22.627 22.627l-23.528 23.527h47.055l-23.527-23.527zm-41.528 41.527l-27.255 27.256h65.054l27.256-27.256h-65.055zm-45.255 45.256l-27.254 27.254h65.054l27.254-27.254h-65.054zm-27.254 45.254l23.527 23.527 23.527-23.527h-47.054zm-21.729 3.728l-9.898 9.899 32.527 32.527 9.898-9.898-32.527-32.527zm-38.767 18.899l-7.504 22.512 37.388 37.388 22.512-7.504v-12.414L54.93 417.086H42.518z
    };
}
\newcommand{\DamageTypePiercing}{
  \tikz \path[fill,scale=-0.002em]
    svg {
      % from https://game-icons.net/1x1/lorc/stone-spear.html
      M20.563 20.844v44.593l73.124 72.907c4.878-7.945 10.962-15.65 18.126-22.813 7.152-7.15 14.825-13.194 22.75-18.06L58.156 20.843H20.563zm159.812 81.062c-.566-.005-1.138.014-1.72.03-3.097.097-6.42.522-9.905 1.283-13.942 3.043-29.973 11.753-43.75 25.53-13.777 13.777-22.487 29.808-25.53 43.75-2.905 13.296-.81 23.935 5.28 30.78 5.4-20.354 17.587-41.18 35.594-59.186 18.024-18.024 38.876-30.203 59.25-35.594-4.718-4.223-11.25-6.526-19.22-6.594zm40.47 22.156c-3.977.096-8.19.624-12.595 1.563-17.62 3.755-37.603 14.572-54.72 31.688C136.417 174.428 125.6 194.38 121.845 212c-3.755 17.62-.633 32.086 8.47 41.188.905.906 1.894 1.744 2.905 2.53 4.635-31.49 18.506-59.084 39.436-80 20.69-20.674 47.894-34.465 78.938-39.25-.678-.837-1.393-1.642-2.156-2.405-6.827-6.827-16.668-10.288-28.594-10zm55.343 28.657c-36.56.167-68.017 13.906-90.344 36.218-2.24 2.24-4.375 4.58-6.438 7 22.43 11.654 37.317 26.57 46.313 43.062 10.575 19.392 12.977 40.393 12.155 60.03l-18.688-.78c.736-17.565-1.448-34.863-9.875-50.313-7.466-13.688-19.874-26.317-41.03-36.687-18.155 29.68-24.497 68.66-12.657 111.844 36.472 3.146 72.888 24.29 86.375 66.25 45.025-6.375 119.336 26.557 127.22 64.25 39.96 18.477 84.588 33.368 125.717 45.094-11.33-35.873-24.38-81.097-40.718-116.97-34.53-21.506-49.702-62.82-46.626-106.343-40.336-30.105-70.18-69.518-74.78-112.625-19.782-6.95-38.806-10.113-56.627-10.03zm-9.532 45.5c10.293 52.54 58.667 86.17 100.625 93.718l-3.31 18.375c-11.09-1.996-22.478-5.503-33.595-10.438-6.93 19.615 1.34 41.252 19.75 60 19.638 19.998 50.412 34.906 81.094 35.97l-.658 18.686c-36.154-1.25-70.657-18.014-93.78-41.56-.98-1-1.936-2.004-2.876-3.033-15.47-12.362-27.615-16.12-38.47-15.5-10.918.624-21.598 6.012-33.03 15.063l-11.594-14.656c13.043-10.327 27.295-18.134 43.563-19.063 6.378-.363 12.9.373 19.563 2.283-5.637-15.188-6.428-31.344-.25-46.813-31.03-18.508-57.392-48.844-65.344-89.438l18.312-3.593z
    };
}